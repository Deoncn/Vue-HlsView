<template>
  <div align="center">
    <p><input style="width:800px" type="text" v-model="NewSrc"></p>
    <button @click="GetIt">è·å–</button>
    <button @click="ChangeVideo">åº”ç”¨</button>
    <p>
      <vue3VideoPlay width="800px" v-bind="VideoObject"/>
    </p>

    <p> JwPlayer <a href="https://www.jwplayer.com/" target="_blank">JwPlayer</a> | <a href="https://github.com/jwplayer/jwplayer" target="_blank"> Github </a></p>
    <p> DPlayer <a href="https://dplayer.diygod.dev/" target="_blank"> DPlayer </a> |ğŸ‘‰ <a href="https://github.com/DIYgod/DPlayer" target="_blank"> Github </a></p>
    <p> hello-muiplayer <a href="https://muiplayer.js.org/" target="_blank"> muiplayer </a> | <a href="https://github.com/muiplayer/hello-muiplayer" target="_blank"> muiplayer </a></p>
    <p> v-videos.js <a href="https://videojs.com/" target="_blank"> videojs </a> | <a href="https://github.com/videojs/video.js" target="_blank"> videojs </a></p>

    <p> v-videos.js <a href="https://codelife.cc/vue3-video-play/" target="_blank"> vue3-video-play </a> | <a href="https://github.com/xdlumia/vue3-video-play" target="_blank"> videojs </a></p>


  </div>
</template>

<script>
export default {
  // data() è¿”å›çš„å±æ€§å°†ä¼šæˆä¸ºå“åº”å¼çš„çŠ¶æ€
  // å¹¶ä¸”æš´éœ²åœ¨ `this` ä¸Š
  data() {
    return {
      count: 0,

      NewSrc: "",

      M3u8Video: {
        width: '800px', //æ’­æ”¾å™¨é«˜åº¦
        height: '450px', //æ’­æ”¾å™¨é«˜åº¦
        color: "#409eff", //ä¸»é¢˜è‰²
        title: '', //è§†é¢‘åç§°
        type: 'm3u8',//è§†é¢‘ç±»å‹
        src: 'https://s-bj-2339-mydisk1.oss.dogecdn.com/testvideo/test.m3u8', //è§†é¢‘æº
        newsrc: '', //è¾“å…¥çš„åœ°å€
        muted: false, //é™éŸ³
        webFullScreen: false,
        speedRate: ["1.0", "1.25"], //æ’­æ”¾å€é€Ÿ
        autoPlay: false, //è‡ªåŠ¨æ’­æ”¾
        loop: false, //å¾ªç¯æ’­æ”¾
        mirror: false, //é•œåƒç”»é¢
        ligthOff: false,  //å…³ç¯æ¨¡å¼
        volume: 0.3, //é»˜è®¤éŸ³é‡å¤§å°
        control: true, //æ˜¯å¦æ˜¾ç¤ºæ§åˆ¶
        controlBtns: ['audioTrack', 'quality', 'speedRate', 'volume', 'setting', 'pip', 'pageFullScreen', 'fullScreen'] //æ˜¾ç¤ºæ‰€æœ‰æŒ‰é’®,
      },

      Mp4Video: {
        width: '800px', //æ’­æ”¾å™¨é«˜åº¦
        height: '450px', //æ’­æ”¾å™¨é«˜åº¦
        color: "#409eff", //ä¸»é¢˜è‰²
        title: '', //è§†é¢‘åç§°

        src: 'https://s-bj-2339-mydisk1.oss.dogecdn.com/Im%20Nothing%20Without%20You.mp4', //è§†é¢‘æº
        muted: false, //é™éŸ³
        webFullScreen: false,
        speedRate: ["1.0", "1.25"], //æ’­æ”¾å€é€Ÿ
        autoPlay: false, //è‡ªåŠ¨æ’­æ”¾
        loop: false, //å¾ªç¯æ’­æ”¾
        mirror: false, //é•œåƒç”»é¢
        ligthOff: false,  //å…³ç¯æ¨¡å¼
        volume: 0.3, //é»˜è®¤éŸ³é‡å¤§å°
        control: true, //æ˜¯å¦æ˜¾ç¤ºæ§åˆ¶
        controlBtns: ['audioTrack', 'quality', 'speedRate', 'volume', 'setting', 'pip', 'pageFullScreen', 'fullScreen'] //æ˜¾ç¤ºæ‰€æœ‰æŒ‰é’®,
      },

      VideoObject: {}


    }
  },

  // methods æ˜¯ä¸€äº›ç”¨æ¥æ›´æ”¹çŠ¶æ€ä¸è§¦å‘æ›´æ–°çš„å‡½æ•°
  // å®ƒä»¬å¯ä»¥åœ¨æ¨¡æ¿ä¸­ä½œä¸ºäº‹ä»¶ç›‘å¬å™¨ç»‘å®š
  methods: {
    increment() {
      this.count++
    },


    GetIt() {
      console.log("å¹²ç”šå‘¢ï¼Ÿ", this.NewSrc)
    },

    ChangeVideo() {

      if ((this.NewSrc.substring(this.NewSrc.lastIndexOf(".") + 1)) == "m3u8") {


        // æŠŠè§†é¢‘åœ°å€ä¼ ç»™å¯¹è±¡çš„è§†é¢‘åœ°å€
        this.M3u8Video.src = this.NewSrc;
        // åŸå¯¹è±¡æ¥æ”¶æ–°å¯¹è±¡ï¼Œå®ç°å€¼çš„èµ‹äºˆã€‚
        this.VideoObject = this.M3u8Video;
        console.log("å®ç° M3U8 å¯¹è±¡")
      } else if ((this.NewSrc.substring(this.NewSrc.lastIndexOf(".") + 1)) == "mp4") {


        // æŠŠè§†é¢‘åœ°å€ä¼ ç»™å¯¹è±¡çš„è§†é¢‘åœ°å€
        this.Mp4Video.src = this.NewSrc;

        this.VideoObject = this.Mp4Video;
        console.log("MP4,MP4,MP4,MP4,MP4")

      } else {
        console.log("!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!")
        alert("æœªçŸ¥åç¼€ï¼ï¼ï¼ï¼ï¼")
      }

    }


  },

  // ç”Ÿå‘½å‘¨æœŸé’©å­ä¼šåœ¨ç»„ä»¶ç”Ÿå‘½å‘¨æœŸçš„å„ä¸ªä¸åŒé˜¶æ®µè¢«è°ƒç”¨
  // ä¾‹å¦‚è¿™ä¸ªå‡½æ•°å°±ä¼šåœ¨ç»„ä»¶æŒ‚è½½å®Œæˆåè¢«è°ƒç”¨
  mounted() {
    console.log(`The initial count is ${this.count}.`)
    this.VideoObject = this.M3u8Video;
  }
}

</script>